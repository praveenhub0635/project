pipeline {
    agent any
    stages{
        stage('Building Docker image'){
            agent{
                Dockerfile {
                    filename 'Dockerfile.build'
                    dir 'build'
                    label 'my-defined-label'
                    additionalBuildArgs  '--build-arg version=1.0.2'
                    args '-v /tmp:/tmp'

                }
            }
         step{
             echo "buid image from docker hub"
             sh 'build -t praveen0635'
             sh 'login'
             sh 'push praveen0635/ecomm'
           }
        }
    }
}